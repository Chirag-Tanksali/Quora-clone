{"ast":null,"code":"import _regeneratorRuntime from\"F:/full-stack-quora-clone/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"F:/full-stack-quora-clone/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"F:/full-stack-quora-clone/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import HomeIcon from\"@material-ui/icons/Home\";import FeaturedPlayListOutlinedIcon from\"@material-ui/icons/FeaturedPlayListOutlined\";import{AssignmentTurnedInOutlined,// Close,\nNotificationsOutlined,PeopleAltOutlined,Search,ExpandMore}from\"@material-ui/icons\";import CloseIcon from\"@material-ui/icons/Close\";import{Avatar,Button,Input}from\"@material-ui/core\";import\"./css/QuoraHeader.css\";import{Modal}from\"react-responsive-modal\";import\"react-responsive-modal/styles.css\";import axios from\"axios\";import{auth}from\"../firebase\";import{signOut}from\"firebase/auth\";import{logout,selectUser}from\"../feature/userSlice\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function QuoraHeader(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),inputUrl=_useState4[0],setInputUrl=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),question=_useState6[0],setQuestion=_useState6[1];var Close=/*#__PURE__*/_jsx(CloseIcon,{});var dispatch=useDispatch();var user=useSelector(selectUser);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var config,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(question!==\"\")){_context.next=5;break;}config={headers:{\"Content-Type\":\"application/json\"}};body={questionName:question,questionUrl:inputUrl,user:user};_context.next=5;return axios.post(\"/api/questions\",body,config).then(function(res){console.log(res.data);alert(res.data.message);window.location.href=\"/\";}).catch(function(e){console.log(e);alert(\"Error in adding question\");});case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();var handleLogout=function handleLogout(){if(window.confirm(\"Are you sure to logout ?\")){signOut(auth).then(function(){dispatch(logout());console.log(\"Logged out\");}).catch(function(){console.log(\"error in logout\");});}};return/*#__PURE__*/_jsx(\"div\",{className:\"qHeader\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"qHeader-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"qHeader__logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://video-public.canva.com/VAD8lt3jPyI/v/ec7205f25c.gif\",alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"qHeader__icons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"qHeader__icon\",children:/*#__PURE__*/_jsx(HomeIcon,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"qHeader__icon\",children:/*#__PURE__*/_jsx(FeaturedPlayListOutlinedIcon,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"qHeader__icon\",children:/*#__PURE__*/_jsx(AssignmentTurnedInOutlined,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"qHeader__icon\",children:/*#__PURE__*/_jsx(PeopleAltOutlined,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"qHeader__icon\",children:/*#__PURE__*/_jsx(NotificationsOutlined,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"qHeader__input\",children:[/*#__PURE__*/_jsx(Search,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search questions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"qHeader__Rem\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:handleLogout,children:/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.photo})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setIsModalOpen(true);},children:\"Add Question\"}),/*#__PURE__*/_jsxs(Modal,{open:isModalOpen,closeIcon:Close,onClose:function onClose(){return setIsModalOpen(false);},closeOnEsc:true,center:true,closeOnOverlayClick:false,styles:{overlay:{height:\"auto\"}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal__title\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Add Question\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Share Link\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal__info\",children:[/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.photo,className:\"avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal__scope\",children:[/*#__PURE__*/_jsx(PeopleAltOutlined,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Public\"}),/*#__PURE__*/_jsx(ExpandMore,{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal__Field\",children:[/*#__PURE__*/_jsx(Input,{value:question,onChange:function onChange(e){return setQuestion(e.target.value);},type:\" text\",placeholder:\"Start your question with 'What', 'How', 'Why', etc. \"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputUrl,onChange:function onChange(e){return setInputUrl(e.target.value);},style:{margin:\"5px 0\",border:\"1px solid lightgray\",padding:\"10px\",outline:\"2px solid #000\"},placeholder:\"Optional: inclue a link that gives context\"}),inputUrl!==\"\"&&/*#__PURE__*/_jsx(\"img\",{style:{height:\"40vh\",objectFit:\"contain\"},src:inputUrl,alt:\"displayimage\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal__buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"cancle\",onClick:function onClick(){return setIsModalOpen(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,type:\"submit\",className:\"add\",children:\"Add Question\"})]})]})]})]})});}export default QuoraHeader;","map":{"version":3,"sources":["F:/full-stack-quora-clone/frontend/src/components/QuoraHeader.js"],"names":["React","useState","HomeIcon","FeaturedPlayListOutlinedIcon","AssignmentTurnedInOutlined","NotificationsOutlined","PeopleAltOutlined","Search","ExpandMore","CloseIcon","Avatar","Button","Input","Modal","axios","auth","signOut","logout","selectUser","useDispatch","useSelector","QuoraHeader","isModalOpen","setIsModalOpen","inputUrl","setInputUrl","question","setQuestion","Close","dispatch","user","handleSubmit","config","headers","body","questionName","questionUrl","post","then","res","console","log","data","alert","message","window","location","href","catch","e","handleLogout","confirm","photo","overlay","height","target","value","display","flexDirection","margin","border","padding","outline","objectFit"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport FeaturedPlayListOutlinedIcon from \"@material-ui/icons/FeaturedPlayListOutlined\";\r\nimport {\r\n  AssignmentTurnedInOutlined,\r\n  // Close,\r\n  NotificationsOutlined,\r\n  PeopleAltOutlined,\r\n  Search,\r\n  ExpandMore,\r\n} from \"@material-ui/icons\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { Avatar, Button, Input } from \"@material-ui/core\";\r\nimport \"./css/QuoraHeader.css\";\r\nimport { Modal } from \"react-responsive-modal\";\r\nimport \"react-responsive-modal/styles.css\";\r\nimport axios from \"axios\";\r\nimport { auth } from \"../firebase\";\r\nimport { signOut } from \"firebase/auth\";\r\nimport { logout, selectUser } from \"../feature/userSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nfunction QuoraHeader() {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [inputUrl, setInputUrl] = useState(\"\");\r\n  const [question, setQuestion] = useState(\"\");\r\n  const Close = <CloseIcon />;\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectUser);\r\n\r\n  const handleSubmit = async () => {\r\n    if (question !== \"\") {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      const body = {\r\n        questionName: question,\r\n        questionUrl: inputUrl,\r\n        user: user,\r\n      };\r\n      await axios\r\n        .post(\"/api/questions\", body, config)\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          alert(res.data.message);\r\n          window.location.href = \"/\";\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          alert(\"Error in adding question\");\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    if (window.confirm(\"Are you sure to logout ?\")) {\r\n      signOut(auth)\r\n        .then(() => {\r\n          dispatch(logout());\r\n          console.log(\"Logged out\");\r\n        })\r\n        .catch(() => {\r\n          console.log(\"error in logout\");\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"qHeader\">\r\n      <div className=\"qHeader-content\">\r\n        <div className=\"qHeader__logo\">\r\n          <img\r\n            src=\"https://video-public.canva.com/VAD8lt3jPyI/v/ec7205f25c.gif\"\r\n            alt=\"logo\"\r\n          />\r\n        </div>\r\n        <div className=\"qHeader__icons\">\r\n          <div className=\"qHeader__icon\">\r\n            <HomeIcon />\r\n          </div>\r\n          <div className=\"qHeader__icon\">\r\n            <FeaturedPlayListOutlinedIcon />\r\n          </div>\r\n          <div className=\"qHeader__icon\">\r\n            <AssignmentTurnedInOutlined />\r\n          </div>\r\n          <div className=\"qHeader__icon\">\r\n            <PeopleAltOutlined />\r\n          </div>\r\n          <div className=\"qHeader__icon\">\r\n            <NotificationsOutlined />\r\n          </div>\r\n        </div>\r\n        <div className=\"qHeader__input\">\r\n          <Search />\r\n          <input type=\"text\" placeholder=\"Search questions\" />\r\n        </div>\r\n        <div className=\"qHeader__Rem\">\r\n          <span onClick={handleLogout}>\r\n            <Avatar src={user?.photo} />\r\n          </span>\r\n\r\n          <Button onClick={() => setIsModalOpen(true)}>Add Question</Button>\r\n          <Modal\r\n            open={isModalOpen}\r\n            closeIcon={Close}\r\n            onClose={() => setIsModalOpen(false)}\r\n            closeOnEsc\r\n            center\r\n            closeOnOverlayClick={false}\r\n            styles={{\r\n              overlay: {\r\n                height: \"auto\",\r\n              },\r\n            }}\r\n          >\r\n            <div className=\"modal__title\">\r\n              <h5>Add Question</h5>\r\n              <h5>Share Link</h5>\r\n            </div>\r\n            <div className=\"modal__info\">\r\n              <Avatar src={user?.photo} className=\"avatar\" />\r\n              <div className=\"modal__scope\">\r\n                <PeopleAltOutlined />\r\n                <p>Public</p>\r\n                <ExpandMore />\r\n              </div>\r\n            </div>\r\n            <div className=\"modal__Field\">\r\n              <Input\r\n                value={question}\r\n                onChange={(e) => setQuestion(e.target.value)}\r\n                type=\" text\"\r\n                placeholder=\"Start your question with 'What', 'How', 'Why', etc. \"\r\n              />\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  value={inputUrl}\r\n                  onChange={(e) => setInputUrl(e.target.value)}\r\n                  style={{\r\n                    margin: \"5px 0\",\r\n                    border: \"1px solid lightgray\",\r\n                    padding: \"10px\",\r\n                    outline: \"2px solid #000\",\r\n                  }}\r\n                  placeholder=\"Optional: inclue a link that gives context\"\r\n                />\r\n                {inputUrl !== \"\" && (\r\n                  <img\r\n                    style={{\r\n                      height: \"40vh\",\r\n                      objectFit: \"contain\",\r\n                    }}\r\n                    src={inputUrl}\r\n                    alt=\"displayimage\"\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"modal__buttons\">\r\n              <button className=\"cancle\" onClick={() => setIsModalOpen(false)}>\r\n                Cancel\r\n              </button>\r\n              <button onClick={handleSubmit} type=\"submit\" className=\"add\">\r\n                Add Question\r\n              </button>\r\n            </div>\r\n          </Modal>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QuoraHeader;\r\n"]},"metadata":{},"sourceType":"module"}